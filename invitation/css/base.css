*{ box-sizing:border-box; }
html, body{ height:100%; }
body{
  margin:0;
  color:var(--text);
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  font-size: clamp(15px, 1.1vw, 17px);
  line-height:1.6;
  background:
    radial-gradient(1000px 700px at 10% 110%, rgba(31,31,31,.04), transparent 55%),
    var(--bg);
  position: relative;
  overflow-x: hidden;
}

/* Fondo fondo: arreglos dorados (sutiles) detrás de TODO, incluyendo el título */
body::before{
  content:"";
  position: fixed;
  inset: 0;
  z-index: -2;
  opacity: .15;
  pointer-events:none;
  background-image: url("../bg-roses.svg");
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
}

/* Overlay blanco muy sutil para que el fondo nunca compita con el contenido */
body::after{
  content:"";
  position: fixed;
  inset: 0;
  pointer-events:none;
  background: rgba(255,255,255,.70);
  z-index: -1;
}

:focus-visible{
  outline: 3px solid rgba(200,162,74,.7);
  outline-offset: 2px;
  border-radius: 12px;
}

.env:focus-visible{
  outline: 3px solid rgba(200,162,74,.8);
  outline-offset: 6px;
}

@media (prefers-reduced-motion: reduce){
  .flap, .letter, .btn, .letter-inner { transition: none !important; }
  .env{ perspective: none; }
  .env.is-open .flap{ transform: none; }
}
